# coding: utf8

# @Author: GuilaumeF
# @Date:   2016-12-08 10:28:37
# @Email:  guillaume4favre@gmail.com
# @Last modified by:   GuilaumeF
# @Last modified time: 2016-12-08 14:52:34


from opc_da import *

if __name__ == '__main__':

    # OpcDa_packet_bind = '05000b03100000007400000002000000d016d0160000000002000'\
    # '000000001004301000000000000c00000000000004600000000045d888aeb1cc9119fe808'\
    # '002b10486002000000010001004301000000000000c000000000000046000000002c1cb76'\
    # 'c12984045030000000000000001000000'.decode('hex')
    # OpcDa_packet_request = '05000083100000008c00000009000000640000000400030007b00000f003000015384d9857f87b1c050007000000000000000000b71c168324e2c449875c7a9273739d9a0000000005000000000000000500000047005200500031000000000001000000e803000001000000000000000000020000000000000000000000000000000000c000000000000046'.decode('hex')
    # OpcDa_packet_request = '050000831000000074000000050000004c0000000000030002fc0000ac030000b900764f3d063aaa050007000000000000000000c18e0a94d13a3647a5b6883fa4d4c0150000000028f80000ac030000e1b42e67158aaadf05000000010000000100000084b296b1b4ba1a10b69c00aa00341d07'.decode('hex')
    # test_1 = OpcDaMessage(OpcDa_packet_request)
    # test_1.show()
    # Request Ouverture Client 4 N°30
    # t = '56000000010007001ec400009c0a0000778bc2fa9d0246e50500070000000000000000000ee2be543ffc754fb9c9817d7f5d3f6f000000001500000000000000150000004f004600530043006c00690065006e00740020002d00200046006100630074006f007200790033000000'.decode('hex')
    # test2 = OpcDaRequestLE(t)
    # test2.show()

    #littleEndian bigEndian

    # Ouverture client 4 N°29
    # opcDaAlter_context_RespLEPacket_Dissect = \
    #     '05000f03100000003800000017000000d016d01645290800000000000100000000000000'\
    #     '045d888aeb1cc9119fe808002b10486002000000'.decode('hex')
    # elem1 = str(OpcDaMessage(opcDaAlter_context_RespLEPacket_Dissect))
    #
    # opcDaAlter_context_RespPacketLE_Build = OpcDaMessage(OpcDaMessage= \
    #     OpcDaHeaderMessage (versionMajor=5,versionMinor=0,pduType=15, \
    #     pfc_flags = 3,integerRepresentation='littleEndian',\
    #     characterRepresentation='ascii',floatingPointRepresentation='ieee',\
    #     reservedForFutur=0)/ OpcDaHeaderNLE(fragLenght=56,authLenght=0,callID=23)\
    #     / OpcDaAlter_Context_RespLE(maxXmitFrag=5840,maxRecvtFrag=5840,\
    #         assocGroupId=534853,portSpec=LenStringPacketLE(length=0,data='\x00\x00'),numResult=1)) \
    #     / '\x00\x00\x00\x00\x04\x5d\x88\x8a\xeb'\
    #     '\x1c\xc9\x11\x9f\xe8\x08\x00\x2b\x10\x48\x60\x02\x00\x00\x00'
    # elem2 = str(opcDaAlter_context_RespPacketLE_Build)
    #
    # OpcDaMessage(opcDaAlter_context_RespLEPacket_Dissect).show()
    # print '###########################################'
    # opcDaAlter_context_RespPacketLE_Build.show()
    # print elem1 == elem2

    # Retrouve uuid N°12
    # opcDaBind_ackLEPacket_Dissect = '05000c03100000005400000002000000d016d0164a2f'\
    #     '000004003133350000000200000000000000045d888aeb1cc9119fe808002b1048600200'\
    #     '0000030003000000000000000000000000000000000000000000'.decode('hex')
    # OpcDaMessage(opcDaBind_ackLEPacket_Dissect).show()

    # test=LenStringPacketLE(length=4,data='135\x00')
    # test1=LenStringPacketLE(length=0,data='\x00\x00')
    # test2=LenStringPacketLE(data=None)
    # test.show()
    # test1.show()
    # test2.show()
    # print str(test1) == str(test2)

    # OpcDa_packet_bind = "05000b03100000007400000002000000d016d0160000000002000000000001004301000000000000c00000000000004600000000045d888aeb1cc9119fe808002b10486002000000010001004301000000000000c000000000000046000000002c1cb76c12984045030000000000000001000000".decode('hex')
    # test_1 = OpcDaMessage(OpcDa_packet_bind)
    # test_1.show()

    #  Test Auth3
    # OpcDa_packet_auth3 = "0500100310000000ea01ce0105000000d016d0160a020000000000004e544c4d53535000030000001800180084000000220122019c0000000e000e005800000010001000660000000e000e007600000010001000be010000158288e20601b11d0000000fa545a9e28ed50447a4e7a5b9298274c254004f0054004f002d005000430046006100630074006f0072007900330054004f0054004f002d0050004300000000000000000000000000000000000000000000000000fa6b5ad7b899c01d790812c0df7868c80101000000000000948231a40139d201dda3e8bddf9e58a9000000000200160046004100430054004f005200590033002d00500043000100160046004100430054004f005200590033002d00500043000400160046006100630074006f007200790033002d00500043000300160046006100630074006f007200790033002d005000430007000800948231a40139d201060004000200000008003000300000000000000001000000002000004a20a35cadbb3809e950a499c76f1b354de47de050758e64101d1f6e48cd19cf0a0010000000000000000000000000000000000009002200520050004300530053002f0046004100430054004f005200590033002d0050004300000000000000000000000000e51edaa2bba5120a703737e765d03676".decode('hex')
    # test2 = OpcDaMessage(OpcDa_packet_auth3)
    # test2.show()

    # packet_bind = '05000b0310000000a400280005000000d016d016000000000200000000000100a001000000000000c00000000000004600000000045d888aeb1cc9119fe808002b1048600200000001000100a001000000000000c000000000000046000000002c1cb76c129840450300000000000000010000000a020000000000004e544c4d5353500001000000978208e2000000000000000000000000000000000601b11d0000000f'.decode('hex')
    # pkt_opcda = OpcDaMessage(packet_bind)
    # pkt_opcda.show()
